(function(){
	"use strict";
	angular.module("regionapp")
		.directive("imgPreload",["$timeout", function($timeout){
			return {
		      restrict: 'A',
		      link: function spinnerLoadLink(scope, elem, attrs) {
	            scope.$watch("ngSrc", function watchNgSrc() {
	                elem.hide();
	                elem.after('<i class="fa fa-spinner fa-lg fa-spin"></i>');
	            });
	            elem.on("load", function onLoad() {
	                elem.show();
	                // $timeout(function() {
	                	elem.next("i.fa-spinner").remove();
	                // },300);
	            });
	        }
		    };

		}])
})();